import requests
import threading
import sys



def check_url(url):
    try:
        response = requests.get(url)
        if response.status_code == 200:
            print("[+] Found:", url)
    except requests.exceptions.RequestException:
        pass

def scan_directory(base_url, directory):
    url = base_url + directory
    check_url(url)

def dirbuster(base_url, wordlist_file="wordlist.txt", num_threads=10):
    with open(wordlist_file, 'r') as f:
        directories = [line.strip() for line in f]

    for i in range(0, len(directories), num_threads):
        threads = []
        for directory in directories[i:i+num_threads]:
            t = threading.Thread(target=scan_directory, args=(base_url, directory))
            threads.append(t)
            t.start()

        for thread in threads:
            thread.join()

if __name__ == "__main__":
    base_url =  sys.argv[1] # passing value from php htts://google.com format
    print("working")
    dirbuster(base_url)
